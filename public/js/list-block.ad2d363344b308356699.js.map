{"version":3,"sources":["webpack:///./resources/js/src/views/Block/BlockApp.vue?2bc9","webpack:///resources/js/src/views/Block/BlockForm.vue","webpack:///./resources/js/src/views/Block/BlockForm.vue?e344","webpack:///./resources/js/src/views/Block/BlockForm.vue","webpack:///./resources/js/src/views/Block/BlockForm.vue?d3f3","webpack:///resources/js/src/views/Block/BlockApp.vue","webpack:///./resources/js/src/views/Block/BlockApp.vue?4c8b","webpack:///./resources/js/src/views/Block/BlockApp.vue"],"names":["name","props","created","data","methods","onSubmit","this","block","id","updateBlock","then","createBlock","computed","_vm","_h","$createElement","_c","_self","attrs","modalTitle","scopedSlots","_u","key","fn","ref","handleSubmit","on","$event","preventDefault","errors","_e","_v","staticClass","class","length","model","value","callback","$$v","$set","expression","_s","btnAction","components","mounted","getBlocks","modalAddBlock","CLEAR_ERRORS","$bvModal","show","modalEditBlock","clone","modalDeleteBlock","msgBoxConfirm","buttonSize","okVariant","okTitle","cancelTitle","hideHeaderClose","centered","$t","directives","rawName","modifiers","proxy","blocks","_l","stopPropagation","units_count"],"mappings":"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","file":"js/list-block.ad2d363344b308356699.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"lg\":\"12\"}},[_c('iq-card',{scopedSlots:_vm._u([{key:\"body\",fn:function(){return [_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"todo-date d-flex mr-3\"},[_c('i',{class:\"ri-government-line text-success mr-2\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('block.title')))])]),_vm._v(\" \"),_c('div',{staticClass:\"todo-notification d-flex align-items-center\"},[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.add_block\",modifiers:{\"add_block\":true}}],attrs:{\"variant\":\"iq-bg-primary iq-waves-effect\",\"size\":\"lg\"},on:{\"click\":_vm.modalAddBlock}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('block.blockAdd'))+\"\\n              \")]),_vm._v(\" \"),_c('BlockForm',{attrs:{\"block\":_vm.block,\"btnAction\":_vm.btnAction,\"modalTitle\":_vm.modalTitle}})],1)])]},proxy:true}])})],1)],1),_vm._v(\" \"),(_vm.blocks.length)?_c('b-row',_vm._l((_vm.blocks),function(block){return _c('b-col',{key:block.id,attrs:{\"md\":\"4\"}},[_c('iq-card',{staticClass:\"bg-transparent shadow-none\",attrs:{\"bodyClass\":\"pro-bg-card\",\"headerClass\":\"bg-primary\"},scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return [_c('h5',{staticClass:\"text-white\"},[_vm._v(\"Bloque: \"),_c('b',[_vm._v(_vm._s(block.name))])])]},proxy:true},{key:\"headerAction\",fn:function(){return [_c('i',{staticClass:\"ri-delete-bin-line mr-0 font-size-18 mr-2 clickeable\",on:{\"click\":function($event){$event.stopPropagation();return _vm.modalDeleteBlock(block.id)}}}),_vm._v(\" \"),_c('i',{staticClass:\"ri-ball-pen-line mr-0 font-size-18 clickeable\",on:{\"click\":function($event){$event.stopPropagation();return _vm.modalEditBlock(block)}}})]},proxy:true},{key:\"body\",fn:function(){return [_c('p',[_vm._v(\"Unidades: \"+_vm._s(block.units_count))])]},proxy:true}],null,true)})],1)}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-modal id=\"form_block\" centered :title=\"modalTitle\" hide-footer>\r\n    <ValidationObserver v-slot=\"{ handleSubmit }\">\r\n      <b-form @submit.prevent=\"handleSubmit(onSubmit)\">\r\n\r\n\r\n        <card-errors v-if=\"errors.length\"/>\r\n\r\n\r\n        <b-form-group class=\"form-group\" label=\"Nombre del bloque\" label-for=\"block_tile\">\r\n          <ValidationProvider name=\"nombre del bloque\" rules=\"required\" v-slot=\"{ errors }\">\r\n            <b-form-input name=\"block_title\" v-model=\"block.name\" id=\"block_tile\"\r\n                          :class=\"(errors.length > 0 ? ' is-invalid' : '')\"></b-form-input>\r\n            <div class=\"invalid-feedback\">\r\n              <span>{{ errors[0] }}</span>\r\n            </div>\r\n          </ValidationProvider>\r\n        </b-form-group>\r\n\r\n        <b-form-group class=\"mt-4 text-right\">\r\n          <hr>\r\n          <b-button variant=\"primary\" type=\"submit\">{{ btnAction }}</b-button>\r\n        </b-form-group>\r\n      </b-form>\r\n    </ValidationObserver>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapState} from \"vuex\";\r\nimport {core} from \"../../config/pluginInit\";\r\n\r\nexport default {\r\n  name: \"BlockForm\",\r\n  props: ['block', 'btnAction', 'modalTitle'],\r\n  created() {\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    ...mapActions('Block', ['createBlock', 'updateBlock']),\r\n    onSubmit() {\r\n      if (this.block.id) {\r\n        this.updateBlock(this.block).then(response => {\r\n          core.showSnackbar(\"success\", \"El bloque ha sido actualizado correctamente\");\r\n          this.$bvModal.hide('form_block');\r\n        });\r\n      } else {\r\n        this.createBlock(this.block).then(response => {\r\n          core.showSnackbar(\"success\", \"El bloque ha sido creado correctamente\");\r\n          this.$bvModal.hide('form_block');\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['errors']),\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockForm.vue?vue&type=template&id=08fff5d5&scoped=true&\"\nimport script from \"./BlockForm.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08fff5d5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":\"form_block\",\"centered\":\"\",\"title\":_vm.modalTitle,\"hide-footer\":\"\"}},[_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)}}},[(_vm.errors.length)?_c('card-errors'):_vm._e(),_vm._v(\" \"),_c('b-form-group',{staticClass:\"form-group\",attrs:{\"label\":\"Nombre del bloque\",\"label-for\":\"block_tile\"}},[_c('ValidationProvider',{attrs:{\"name\":\"nombre del bloque\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{class:(errors.length > 0 ? ' is-invalid' : ''),attrs:{\"name\":\"block_title\",\"id\":\"block_tile\"},model:{value:(_vm.block.name),callback:function ($$v) {_vm.$set(_vm.block, \"name\", $$v)},expression:\"block.name\"}}),_vm._v(\" \"),_c('div',{staticClass:\"invalid-feedback\"},[_c('span',[_vm._v(_vm._s(errors[0]))])])]}}],null,true)})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"mt-4 text-right\"},[_c('hr'),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.btnAction))])],1)],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container fluid>\r\n    <b-row>\r\n      <b-col lg=\"12\">\r\n        <iq-card>\r\n          <template v-slot:body>\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n              <div class=\"todo-date d-flex mr-3\">\r\n                <i :class=\"`ri-government-line text-success mr-2`\"></i>\r\n                <span>{{ $t('block.title') }}</span>\r\n              </div>\r\n              <div class=\"todo-notification d-flex align-items-center\">\r\n                <b-button variant=\"iq-bg-primary iq-waves-effect\" @click=\"modalAddBlock\" v-b-modal.add_block size=\"lg\">\r\n                  {{ $t('block.blockAdd') }}\r\n                </b-button>\r\n                <BlockForm :block=\"block\" :btnAction=\"btnAction\" :modalTitle=\"modalTitle\"/>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </iq-card>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <!--============================\r\n           LIST BLOCKS\r\n    ==============================-->\r\n    <b-row v-if=\"blocks.length\">\r\n      <b-col md=\"4\" v-for=\"block in blocks\" :key=\"block.id\">\r\n        <iq-card bodyClass=\"pro-bg-card\" class=\"bg-transparent shadow-none\" headerClass=\"bg-primary\">\r\n          <template v-slot:headerTitle>\r\n            <h5 class=\"text-white\">Bloque: <b>{{ block.name }}</b></h5>\r\n          </template>\r\n          <template v-slot:headerAction>\r\n            <i class=\"ri-delete-bin-line mr-0 font-size-18 mr-2 clickeable\" @click.stop=\"modalDeleteBlock(block.id)\"/>\r\n            <i class=\"ri-ball-pen-line mr-0 font-size-18 clickeable\" @click.stop=\"modalEditBlock(block)\"/>\r\n          </template>\r\n          <template v-slot:body>\r\n            <p>Unidades: {{ block.units_count }}</p>\r\n          </template>\r\n        </iq-card>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport {core} from \"../../config/pluginInit\";\r\nimport BlockForm from \"./BlockForm\";\r\nimport {mapActions, mapMutations, mapState} from \"vuex\";\r\nimport mapValues from \"lodash/mapValues\";\r\n\r\nexport default {\r\n  name: \"BlockApp\",\r\n  components: {BlockForm},\r\n  mounted() {\r\n    core.index();\r\n    this.getBlocks();\r\n  },\r\n  data() {\r\n    return {\r\n      block: {\r\n        id: '',\r\n        name: '',\r\n      },\r\n      btnAction: '',\r\n      modalTitle: '',\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['CLEAR_ERRORS']),\r\n    ...mapActions('Block', ['getBlocks', 'deleteBlock']),\r\n    modalAddBlock() {\r\n      this.btnAction = 'Guardar';\r\n      this.modalTitle = 'Crear bloque'\r\n      this.block = mapValues(this.block, () => '');\r\n      this.CLEAR_ERRORS();\r\n      this.$bvModal.show('form_block');\r\n    },\r\n    modalEditBlock(block) {\r\n      this.btnAction = 'Actualizar';\r\n      this.modalTitle = 'Actualizar bloque'\r\n      this.block = clone(block);\r\n      this.CLEAR_ERRORS();\r\n      this.$bvModal.show('form_block');\r\n    },\r\n    modalDeleteBlock(blockId) {\r\n      this.$bvModal.msgBoxConfirm('Esta seguro que desea eliminar el bloque ?', {\r\n        buttonSize: 'sm',\r\n        okVariant: 'danger',\r\n        okTitle: 'Eliminar',\r\n        cancelTitle: 'Cancelar',\r\n        hideHeaderClose: false,\r\n        centered: true\r\n      }).then(value => {\r\n        if (value) {\r\n          this.deleteBlock(blockId).then(response => {\r\n            core.showSnackbar(\"success\", \"El bloque ha sido eliminado correctamente\");\r\n          })\r\n        }\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState('Block', ['blocks'])\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockApp.vue?vue&type=template&id=46fe908a&scoped=true&\"\nimport script from \"./BlockApp.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockApp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46fe908a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}