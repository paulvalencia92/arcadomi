(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1164:function(e,t,r){"use strict";r.r(t);var o=r(25),i=r(21);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={name:"FormEditRole",props:["role"],created:function(){var e=this.role.abilities.map((function(e){return e.id}));this.role.abilities=e,this.getAbilities()},methods:l(l({},Object(i.b)("Role",["getAbilities","updateRole"])),{},{onSubmit:function(){var e=this;this.updateRole(this.role).then((function(t){o.c.showSnackbar("success","El rol ha sido actualizado"),e.$emit("roleUpdated",!0)}))}}),computed:l(l({},Object(i.e)(["errors"])),Object(i.e)("Role",["abilities"]))},c=r(14),u=Object(c.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.handleSubmit;return[r("b-form",{on:{submit:function(t){return t.preventDefault(),o(e.onSubmit)}}},[r("b-col",{attrs:{md:"12"}},[e.errors.length?r("card-errors"):e._e()],1),e._v(" "),r("b-form-group",[r("ValidationProvider",{attrs:{name:"titulo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("b-form-input",{class:o.length>0?" is-invalid":"",attrs:{placeholder:"titulo",type:"text"},model:{value:e.role.title,callback:function(t){e.$set(e.role,"title",t)},expression:"role.title"}}),e._v(" "),r("b-form-invalid-feedback",[e._v("\n          "+e._s(o[0])+"\n        ")])]}}],null,!0)})],1),e._v(" "),r("b-form-group",[r("b-row",e._l(e.abilities,(function(t){return r("b-col",{key:t.id,staticClass:"col-md-3"},[r("b-form-checkbox",{attrs:{name:"abilities"+t.name,value:t.id},model:{value:e.role.abilities,callback:function(t){e.$set(e.role,"abilities",t)},expression:"role.abilities"}},[e._v("\n            "+e._s(t.title)+"\n          ")])],1)})),1)],1),e._v(" "),r("b-form-group",{staticClass:"mt-4 text-right"},[r("hr"),e._v(" "),r("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v("Guardar")])],1)],1)]}}])})}),[],!1,null,"177e780f",null).exports;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={name:"FormCreateRole",data:function(){return{role:{title:""}}},methods:f(f({},Object(i.b)("Role",["createRole"])),{},{onSubmit:function(){var e=this;this.createRole(this.role).then((function(t){o.c.showSnackbar("success","El rol ha sido creado exitosamente"),e.$refs["form-create-role"].hide()}))}}),computed:f({},Object(i.e)(["errors"]))};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={name:"RoleApp",created:function(){this.getRoles()},components:{"form-edit-role":u,"form-create-role":Object(c.a)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"form-create-role",attrs:{"hide-footer":"",id:"form-create-role",size:"md",title:"Crear Rol"}},[r("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.handleSubmit;return[r("b-form",{on:{submit:function(t){return t.preventDefault(),o(e.onSubmit)}}},[r("b-col",{attrs:{md:"12"}},[e.errors.length?r("card-errors"):e._e()],1),e._v(" "),r("b-form-group",[r("ValidationProvider",{attrs:{name:"titulo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("b-form-input",{class:o.length>0?" is-invalid":"",attrs:{placeholder:"titulo",type:"text"},model:{value:e.role.title,callback:function(t){e.$set(e.role,"title",t)},expression:"role.title"}}),e._v(" "),r("b-form-invalid-feedback",[e._v("\n            "+e._s(o[0])+"\n          ")])]}}],null,!0)})],1),e._v(" "),r("b-form-group",{staticClass:"mt-4 text-right"},[r("hr"),e._v(" "),r("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v("Guardar")])],1)],1)]}}])})],1)}),[],!1,null,"d4e4a07a",null).exports},data:function(){return{role:{},fields:[{key:"title",label:"Titulo",sortable:!0},{key:"abilities",label:"Habilidades",sortable:!0},{key:"actions",label:"Acciones",sortable:!0}]}},methods:v(v({},Object(i.b)("Role",["getRoles","getAbilities"])),{},{showModalEditRole:function(e){this.role=clone(e),this.$refs["form-edit-role"].show()},hideModalEditRole:function(e){this.$refs["form-edit-role"].hide()}}),computed:v({},Object(i.e)("Role",["roles"])),mounted:function(){o.c.index()}},y=Object(c.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[r("i",{staticClass:"ri-user-settings-line mr-2 text-success"}),e._v(" Lista de roles y habilidades\n    ")]},proxy:!0},{key:"headerAction",fn:function(){return[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.form-create-role",modifiers:{"form-create-role":!0}}],attrs:{variant:"primary"}},[e._v("\n        Crear categor√≠a\n      ")])]},proxy:!0}])}),e._v(" "),e.roles.length?r("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[r("b-table",{attrs:{fields:e.fields,items:e.roles,hover:"",responsive:""},scopedSlots:e._u([{key:"cell(abilities)",fn:function(t){return[e._l(t.item.abilities,(function(t){return[r("button",{staticClass:"btn btn-link btn-sm mr-1"},[e._v(e._s(t.title))])]}))]}},{key:"cell(actions)",fn:function(t){return[r("b-dropdown",{staticClass:"m-md-2",attrs:{variant:"primary",id:"accion-unit",text:"Acciones"}},[r("b-dropdown-item",{attrs:{variant:"primary"},on:{click:function(r){return e.showModalEditRole(t.item)}}},[r("i",{staticClass:"ri-edit-box-line"}),e._v("Editar\n            ")])],1)]}}],null,!1,258770226)}),e._v(" "),r("b-modal",{ref:"form-edit-role",attrs:{"hide-footer":"",size:"xl",title:"Editar Rol"}},[r("form-edit-role",{attrs:{role:e.role},on:{roleUpdated:e.hideModalEditRole}})],1),e._v(" "),r("form-create-role")]},proxy:!0}],null,!1,749279183)}):e._e()],1)}),[],!1,null,"eddb795e",null);t.default=y.exports}}]);
//# sourceMappingURL=role-app.da3ec062acf7bce368bc.js.map