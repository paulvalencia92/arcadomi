(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{117:function(e,r,t){e.exports=t.p+"images/user-11.png?889f24898432556cb37f2241a522210a"},713:function(e,r,t){"use strict";t.r(r);var s=t(3),a=t(2);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var n={name:"AddUser",mounted:function(){this.getRoles(),s.c.index()},data:function(){return{user:{first_name:"",last_name:"",username:"",email:"",password:"",repeatPassword:"",file:null,movil_number:"",role:"",gender:"",date_of_birth:""},users:[],imagePreview:t(117)}},computed:l(l({},Object(a.e)(["errors"])),Object(a.c)("Role",["optionsRoles"])),methods:l(l(l({},Object(a.b)("User",["createUser"])),Object(a.b)("Role",["getRoles"])),{},{onSubmit:function(){var e=this,r=this.buildFormData();this.createUser(r).then((function(r){s.c.showSnackbar("success","El usuario ha sido creado con éxito."),e.$router.push({name:"user.list"})}))},previewImage:function(e){var r=this;this.user.file=e.target.files[0];var t=e.target;if(t.files&&t.files[0]){var s=new FileReader;s.onload=function(e){r.imagePreview=e.target.result},s.readAsDataURL(t.files[0])}},buildFormData:function(){var e=new FormData;for(var r in this.user)null!=this.user[r]&&e.append(r,this.user[r]);return e}})},u=t(0),c=Object(u.a)(n,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-container",{attrs:{fluid:""}},[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(r){var s=r.handleSubmit;return[t("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(r){return r.preventDefault(),s(e.onSubmit)}}},[t("b-row",[t("b-col",{attrs:{lg:"3"}},[t("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[t("b-form-group",[t("div",{staticClass:"add-img-user profile-img-edit"},[t("b-img",{staticClass:"profile-pic height-150 width-150",attrs:{fluid:"",src:e.imagePreview,alt:"profile-pic"}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.file,expression:"user.file"}],attrs:{type:"hidden"},domProps:{value:e.user.file},on:{input:function(r){r.target.composing||e.$set(e.user,"file",r.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.file,expression:"user.file"}],attrs:{type:"hidden"},domProps:{value:e.user.file},on:{input:function(r){r.target.composing||e.$set(e.user,"file",r.target.value)}}}),e._v(" "),t("div",{staticClass:"p-image"},[t("b-button",{staticClass:"upload-button iq-bg-primary position-relative",attrs:{variant:"none"}},[t("input",{staticClass:"h-100 position-absolute",staticStyle:{opacity:"0"},attrs:{type:"file",accept:"image/*"},on:{change:e.previewImage}}),e._v("\n                      Subir archivo\n                    ")])],1)],1),e._v(" "),t("div",{staticClass:"img-extension mt-3"},[t("div",{staticClass:"d-inline-block align-items-center"},[t("span",[e._v("Unicamente")]),e._v(" "),t("b-link",{attrs:{href:"javascript:void();"}},[e._v(".jpg")]),e._v(" "),t("b-link",{attrs:{href:"javascript:void();"}},[e._v(".png")]),e._v(" "),t("b-link",{attrs:{href:"javascript:void();"}},[e._v(".jpeg")]),e._v(" "),t("span",[e._v("Permitidos")])],1)])])]},proxy:!0}],null,!0)})],1),e._v(" "),t("b-col",{attrs:{lg:"9"}},[t("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[t("h4",{staticClass:"card-title"},[e._v("Información del nuevo usuario")])]},proxy:!0},{key:"body",fn:function(){return[t("div",{staticClass:"new-user-info"},[t("b-row",[t("b-col",{attrs:{md:"12"}},[e.errors.length?t("card-errors"):e._e()],1),e._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Nombres:","label-for":"fname"}},[t("ValidationProvider",{attrs:{name:"Nombres",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:e.user.first_name,callback:function(r){e.$set(e.user,"first_name",r)},expression:"user.first_name"}}),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1),e._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Apellidos:","label-for":"lname"}},[t("ValidationProvider",{attrs:{name:"Apellidos",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:e.user.last_name,callback:function(r){e.$set(e.user,"last_name",r)},expression:"user.last_name"}}),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1),e._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Numero de celular:","label-for":"mobno"}},[t("ValidationProvider",{attrs:{name:"Numero de celular",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:e.user.movil_number,callback:function(r){e.$set(e.user,"movil_number",r)},expression:"user.movil_number"}}),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1),e._v(" "),t("b-form-group",{staticClass:"col-sm-6",attrs:{label:"Genero:","label-class":"d-block"}},[t("ValidationProvider",{attrs:{name:"Genero",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-radio",{class:s.length>0?" is-invalid":"",attrs:{inline:"",value:"male"},model:{value:e.user.gender,callback:function(r){e.$set(e.user,"gender",r)},expression:"user.gender"}},[e._v("Masculino")]),e._v(" "),t("b-form-radio",{attrs:{inline:"",value:"female"},model:{value:e.user.gender,callback:function(r){e.$set(e.user,"gender",r)},expression:"user.gender"}},[e._v("Femenino")]),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"form-group col-sm-6"},[t("label",{staticClass:"d-block",attrs:{for:"dob"}},[e._v("Fecha de nacimiento - "),t("span",{staticClass:"text-sm-left text-muted font-italic"},[e._v("opcional")])]),e._v(" "),t("b-form-input",{attrs:{type:"date",id:"dob"},model:{value:e.user.date_of_birth,callback:function(r){e.$set(e.user,"date_of_birth",r)},expression:"user.date_of_birth"}})],1)],1),e._v(" "),t("hr"),e._v(" "),t("h5",{staticClass:"mb-3"},[e._v("Seguridad")]),e._v(" "),t("b-row",[t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Nombre de usuario:","label-for":"uname"}},[t("ValidationProvider",{attrs:{name:"Nombre de usuario",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:e.user.username,callback:function(r){e.$set(e.user,"username",r)},expression:"user.username"}}),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1),e._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Correo electronico:","label-for":"uname"}},[t("ValidationProvider",{attrs:{name:"Correo electronico",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}}),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1),e._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Rol:","label-for":"selectuserrole"}},[t("ValidationProvider",{attrs:{name:"Rol",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-select",{class:s.length>0?" is-invalid":"",attrs:{plain:"",options:e.optionsRoles,id:"selectuserrole"},model:{value:e.user.role,callback:function(r){e.$set(e.user,"role",r)},expression:"user.role"}}),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1),e._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Contraseña:","label-for":"pass"}},[t("ValidationProvider",{attrs:{name:"Password",vid:"repeat_password",rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"password"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}}),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1),e._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Repetir contraseña:","label-for":"rpass"}},[t("ValidationProvider",{attrs:{name:"Repetir contraseña",rules:"required|confirmed:repeat_password"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"password",placeholder:"Repetir contraseña"},model:{value:e.user.repeat_password,callback:function(r){e.$set(e.user,"repeat_password",r)},expression:"user.repeat_password"}}),e._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])]}}],null,!0)})],1)],1),e._v(" "),t("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v("Crear usuario")])],1)]},proxy:!0}],null,!0)})],1)],1)],1)]}}])})],1)}),[],!1,null,null,null);r.default=c.exports}}]);
//# sourceMappingURL=add-user.8b6cc7de876039b0f60d.js.map