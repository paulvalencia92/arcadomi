(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{700:function(e,t,o){"use strict";o.r(t);var r=o(3),n=o(2);function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a={name:"BlockForm",props:["block","btnAction","modalTitle"],created:function(){},data:function(){return{}},methods:i(i({},Object(n.b)("Block",["createBlock","updateBlock"])),{},{onSubmit:function(){var e=this;this.block.id?this.updateBlock(this.block).then((function(t){r.c.showSnackbar("success","El bloque ha sido actualizado correctamente"),e.$bvModal.hide("form_block")})):this.createBlock(this.block).then((function(t){r.c.showSnackbar("success","El bloque ha sido creado correctamente"),e.$bvModal.hide("form_block")}))}}),computed:i({},Object(n.e)(["errors"]))},s=o(0),b=Object(s.a)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-modal",{attrs:{id:"form_block",centered:"",title:e.modalTitle,"hide-footer":""}},[o("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[o("b-form",{on:{submit:function(t){return t.preventDefault(),r(e.onSubmit)}}},[e.errors.length?o("card-errors"):e._e(),e._v(" "),o("b-form-group",{staticClass:"form-group",attrs:{label:"Nombre del bloque","label-for":"block_tile"}},[o("ValidationProvider",{attrs:{name:"nombre del bloque",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[o("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{name:"block_title",id:"block_tile"},model:{value:e.block.name,callback:function(t){e.$set(e.block,"name",t)},expression:"block.name"}}),e._v(" "),o("div",{staticClass:"invalid-feedback"},[o("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),e._v(" "),o("b-form-group",{staticClass:"mt-4 text-right"},[o("hr"),e._v(" "),o("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v(e._s(e.btnAction))])],1)],1)]}}])})],1)}),[],!1,null,"08fff5d5",null).exports,u=o(144),d=o.n(u);function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){p(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k={name:"BlockApp",components:{BlockForm:b},mounted:function(){r.c.index(),this.getBlocks()},data:function(){return{block:{id:"",name:""},btnAction:"",modalTitle:""}},methods:m(m(m({},Object(n.d)(["CLEAR_ERRORS"])),Object(n.b)("Block",["getBlocks","deleteBlock"])),{},{modalAddBlock:function(){this.btnAction="Guardar",this.modalTitle="Crear bloque",this.block=d()(this.block,(function(){return""})),this.CLEAR_ERRORS(),this.$bvModal.show("form_block")},modalEditBlock:function(e){this.btnAction="Actualizar",this.modalTitle="Actualizar bloque",this.block=clone(e),this.CLEAR_ERRORS(),this.$bvModal.show("form_block")},modalDeleteBlock:function(e){var t=this;this.$bvModal.msgBoxConfirm("Esta seguro que desea eliminar el bloque ?",{buttonSize:"sm",okVariant:"danger",okTitle:"Eliminar",cancelTitle:"Cancelar",hideHeaderClose:!1,centered:!0}).then((function(o){o&&t.deleteBlock(e).then((function(e){r.c.showSnackbar("success","El bloque ha sido eliminado correctamente")}))}))}}),computed:m({},Object(n.e)("Block",["blocks"]))},h=Object(s.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-container",{attrs:{fluid:""}},[o("b-row",[o("b-col",{attrs:{lg:"12"}},[o("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("div",{staticClass:"todo-date d-flex mr-3"},[o("i",{class:"ri-government-line text-success mr-2"}),e._v(" "),o("span",[e._v(e._s(e.$t("block.title")))])]),e._v(" "),o("div",{staticClass:"todo-notification d-flex align-items-center"},[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.add_block",modifiers:{add_block:!0}}],attrs:{variant:"iq-bg-primary iq-waves-effect",size:"lg"},on:{click:e.modalAddBlock}},[e._v("\n                "+e._s(e.$t("block.blockAdd"))+"\n              ")]),e._v(" "),o("BlockForm",{attrs:{block:e.block,btnAction:e.btnAction,modalTitle:e.modalTitle}})],1)])]},proxy:!0}])})],1)],1),e._v(" "),e.blocks.length?o("b-row",e._l(e.blocks,(function(t){return o("b-col",{key:t.id,attrs:{md:"4"}},[o("iq-card",{staticClass:"bg-transparent shadow-none",attrs:{bodyClass:"pro-bg-card",headerClass:"bg-primary"},scopedSlots:e._u([{key:"headerTitle",fn:function(){return[o("h5",{staticClass:"text-white"},[e._v("Bloque: "),o("b",[e._v(e._s(t.name))])])]},proxy:!0},{key:"headerAction",fn:function(){return[o("i",{staticClass:"ri-delete-bin-line mr-0 font-size-18 mr-2 clickeable",on:{click:function(o){return o.stopPropagation(),e.modalDeleteBlock(t.id)}}}),e._v(" "),o("i",{staticClass:"ri-ball-pen-line mr-0 font-size-18 clickeable",on:{click:function(o){return o.stopPropagation(),e.modalEditBlock(t)}}})]},proxy:!0},{key:"body",fn:function(){return[o("p",[e._v("Unidades: "+e._s(t.units_count))])]},proxy:!0}],null,!0)})],1)})),1):e._e()],1)}),[],!1,null,"46fe908a",null);t.default=h.exports}}]);
//# sourceMappingURL=list-block.ad2d363344b308356699.js.map