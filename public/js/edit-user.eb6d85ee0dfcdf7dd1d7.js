(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1180:function(e,t,r){"use strict";r.r(t);var a=r(25),s=r(21);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={name:"ProfileEdit",props:["id"],created:function(){var e=this;this.findUser(this.id).then((function(t){e.user=clone(t)})),this.getRoles()},data:function(){return{imagePreview:null,imageDefault:r(313),user:{},currentPassword:""}},methods:n(n(n({},Object(s.b)("User",["findUser","updateUser"])),Object(s.b)("Role",["getRoles"])),{},{onSubmit:function(){var e=this,t=this.buildFormData();this.updateUser(t).then((function(t){a.c.showSnackbar("success","User has been updated successfully."),e.$router.push({name:"user.list"})}))},previewImage:function(e){var t=this;this.user.image=e.target.files[0];var r=e.target;if(r.files&&r.files[0]){var a=new FileReader;a.onload=function(e){t.imagePreview=e.target.result},a.readAsDataURL(r.files[0])}},buildFormData:function(){var e=new FormData;for(var t in e.append("_method","PUT"),this.user)null!=this.user[t]&&e.append(t,this.user[t]);return e}}),computed:n(n(n({},Object(s.c)("Role",["optionsRoles"])),Object(s.e)(["errors"])),{},{getImagePreview:function(){return this.imagePreview?this.imagePreview:this.user.image?"/storage/users/".concat(this.user.image):this.imageDefault}}),mounted:function(){a.c.index()}},u=r(14),c=Object(u.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit;return[r("form",{on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)}}},[r("b-row",[r("b-col",{attrs:{lg:"12"}},[r("iq-card",{attrs:{"body-class":"p-0"},scopedSlots:e._u([{key:"body",fn:function(){return[r("div",{staticClass:"iq-edit-list"},[r("tab-nav",{staticClass:"iq-edit-profile d-flex",attrs:{pills:!0}},[r("tab-nav-items",{staticClass:"col-md-3 p-0",attrs:{active:!0,href:"#personal-information",title:"Personal Information"}})],1)],1)]},proxy:!0}],null,!0)})],1),e._v(" "),r("b-col",{attrs:{lg:"12"}},[r("div",{staticClass:"iq-edit-list-data"},[r("tab-content",{attrs:{id:"pills-tabContent-2"}},[r("tab-content-item",{attrs:{active:!0,id:"personal-information"}},[r("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[r("h4",{staticClass:"card-title"},[e._v("InformaciÃ³n Personal")])]},proxy:!0},{key:"body",fn:function(){return[r("b-form-group",{staticClass:"row align-items-center"},[r("b-col",{attrs:{md:"12"}},[e.errors.length?r("card-errors"):e._e()],1),e._v(" "),r("b-col",{attrs:{md:"12"}},[r("div",{staticClass:"profile-img-edit"},[r("b-img",{staticClass:"profile-pic height-150 width-150",attrs:{src:e.getImagePreview,alt:"profile-pic"}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.image,expression:"user.image"}],attrs:{type:"hidden"},domProps:{value:e.user.image},on:{input:function(t){t.target.composing||e.$set(e.user,"image",t.target.value)}}}),e._v(" "),r("div",{staticClass:"p-image"},[r("div",{staticClass:"position-relative"},[r("i",{staticClass:"ri-pencil-line upload-button"}),e._v(" "),r("b-form-file",{staticClass:"h-100 position-absolute",staticStyle:{opacity:"0"},attrs:{accept:"image/*"},on:{change:e.previewImage}})],1)])],1)])],1),e._v(" "),r("b-row",{attrs:{"align-v":"center"}},[r("b-form-group",{staticClass:"col-md-6",attrs:{label:"First Name","label-for":"fname"}},[r("ValidationProvider",{attrs:{name:"First name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-input",{class:a.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"First Name"},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}}),e._v(" "),r("div",{staticClass:"invalid-feedback"},[r("span",[e._v(e._s(a[0]))])])]}}],null,!0)})],1),e._v(" "),r("b-form-group",{staticClass:"col-md-6",attrs:{label:"Last Name","label-for":"lname"}},[r("ValidationProvider",{attrs:{name:"Last name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-input",{class:a.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"Last Name"},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}}),e._v(" "),r("div",{staticClass:"invalid-feedback"},[r("span",[e._v(e._s(a[0]))])])]}}],null,!0)})],1),e._v(" "),r("b-form-group",{staticClass:"col-md-6",attrs:{label:"Username","label-for":"uname"}},[r("ValidationProvider",{attrs:{name:"User name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-input",{class:a.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"Username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),r("div",{staticClass:"invalid-feedback"},[r("span",[e._v(e._s(a[0]))])])]}}],null,!0)})],1),e._v(" "),r("b-form-group",{staticClass:"col-md-6",attrs:{label:"Correo electronico:","label-for":"email"}},[r("ValidationProvider",{attrs:{name:"Correo electronico",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-input",{class:a.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e._v(" "),r("div",{staticClass:"invalid-feedback"},[r("span",[e._v(e._s(a[0]))])])]}}],null,!0)})],1),e._v(" "),r("b-form-group",{staticClass:"col-md-6",attrs:{label:"Rol:","label-for":"selectuserrole"}},[r("ValidationProvider",{attrs:{name:"Rol",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-select",{class:a.length>0?" is-invalid":"",attrs:{plain:"",options:e.optionsRoles,id:"selectuserrole"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}}),e._v(" "),r("div",{staticClass:"invalid-feedback"},[r("span",[e._v(e._s(a[0]))])])]}}],null,!0)})],1),e._v(" "),r("b-form-group",{staticClass:"col-sm-6",attrs:{label:"Gender:","label-class":"d-block"}},[r("b-form-radio",{attrs:{inline:"",value:"male"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[e._v("Male")]),e._v(" "),r("b-form-radio",{attrs:{inline:"",value:"female"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[e._v("Female")])],1),e._v(" "),r("b-form-group",{staticClass:"col-sm-6",attrs:{label:"Date Of Birth:","label-for":"dob"}},[r("b-form-input",{attrs:{type:"date",id:"dob"},model:{value:e.user.date_of_birth,callback:function(t){e.$set(e.user,"date_of_birth",t)},expression:"user.date_of_birth"}})],1)],1),e._v(" "),r("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),e._v(" "),r("b-button",{staticClass:"iq-bg-danger",attrs:{type:"reset",variant:"none"}},[e._v("Cancel")])]},proxy:!0}],null,!0)})],1)],1)],1)])],1)],1)]}}])})],1)}),[],!1,null,null,null);t.default=c.exports},313:function(e,t,r){e.exports=r.p+"images/user-11.png?889f24898432556cb37f2241a522210a"}}]);
//# sourceMappingURL=edit-user.eb6d85ee0dfcdf7dd1d7.js.map